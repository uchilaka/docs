<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Data Access | Directus Docs</title>
    <meta name="description" content="The All-New Directus 7. Future-Proof Headless CMS for Managing Custom Database Content.">
    <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
  <link rel="apple-touch-icon" type="image/x-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <meta name="application-name" content="Directus Docs">
  <meta name="theme-color" content="#263238">
  <meta name="apple-mobile-web-app-title" content="Directus Docs">
  <meta name="msapplication-TileColor" content="#263238">
  <meta name="msapplication-config" content="/browserconfig.xml">
    
    <link rel="preload" href="/assets/css/0.styles.a46ba43a.css" as="style"><link rel="preload" href="/assets/js/app.6b13a8ca.js" as="script"><link rel="preload" href="/assets/js/3.33850cd8.js" as="script"><link rel="preload" href="/assets/js/2.a8993c67.js" as="script"><link rel="preload" href="/assets/js/16.f07a13d9.js" as="script"><link rel="prefetch" href="/assets/js/10.4b3ce920.js"><link rel="prefetch" href="/assets/js/11.839a4d5c.js"><link rel="prefetch" href="/assets/js/12.a785f938.js"><link rel="prefetch" href="/assets/js/13.e2ca323b.js"><link rel="prefetch" href="/assets/js/14.c7ffda09.js"><link rel="prefetch" href="/assets/js/15.45091891.js"><link rel="prefetch" href="/assets/js/17.e0f03bae.js"><link rel="prefetch" href="/assets/js/18.ac911c74.js"><link rel="prefetch" href="/assets/js/19.57156ddf.js"><link rel="prefetch" href="/assets/js/20.0ea3873e.js"><link rel="prefetch" href="/assets/js/21.046a6fca.js"><link rel="prefetch" href="/assets/js/22.cbe58b64.js"><link rel="prefetch" href="/assets/js/23.856428e4.js"><link rel="prefetch" href="/assets/js/24.45e2919b.js"><link rel="prefetch" href="/assets/js/25.132c94af.js"><link rel="prefetch" href="/assets/js/26.5f91c4e2.js"><link rel="prefetch" href="/assets/js/27.7164f93b.js"><link rel="prefetch" href="/assets/js/28.4076a503.js"><link rel="prefetch" href="/assets/js/29.25cf7704.js"><link rel="prefetch" href="/assets/js/30.7324ae62.js"><link rel="prefetch" href="/assets/js/31.bbff5fc3.js"><link rel="prefetch" href="/assets/js/32.172f8672.js"><link rel="prefetch" href="/assets/js/33.8585645c.js"><link rel="prefetch" href="/assets/js/34.b3a2562b.js"><link rel="prefetch" href="/assets/js/35.5fb23827.js"><link rel="prefetch" href="/assets/js/36.2d6c0a55.js"><link rel="prefetch" href="/assets/js/37.b2ff76c5.js"><link rel="prefetch" href="/assets/js/38.c509a1aa.js"><link rel="prefetch" href="/assets/js/39.dc1c0e24.js"><link rel="prefetch" href="/assets/js/4.274a7dd4.js"><link rel="prefetch" href="/assets/js/40.2774dcb2.js"><link rel="prefetch" href="/assets/js/41.68e064e4.js"><link rel="prefetch" href="/assets/js/42.2d25d691.js"><link rel="prefetch" href="/assets/js/43.a29e19b7.js"><link rel="prefetch" href="/assets/js/44.bb09339e.js"><link rel="prefetch" href="/assets/js/45.f0fc7f85.js"><link rel="prefetch" href="/assets/js/46.b3f5b727.js"><link rel="prefetch" href="/assets/js/47.51246657.js"><link rel="prefetch" href="/assets/js/48.c2b920de.js"><link rel="prefetch" href="/assets/js/49.60486bb5.js"><link rel="prefetch" href="/assets/js/5.95208c4a.js"><link rel="prefetch" href="/assets/js/50.a43536ef.js"><link rel="prefetch" href="/assets/js/51.931a0446.js"><link rel="prefetch" href="/assets/js/52.e358937f.js"><link rel="prefetch" href="/assets/js/53.e6f1ecb3.js"><link rel="prefetch" href="/assets/js/54.a8385a23.js"><link rel="prefetch" href="/assets/js/55.a9955101.js"><link rel="prefetch" href="/assets/js/56.6583c8b7.js"><link rel="prefetch" href="/assets/js/57.b2e8a719.js"><link rel="prefetch" href="/assets/js/58.bc886f9d.js"><link rel="prefetch" href="/assets/js/59.a4bc26f6.js"><link rel="prefetch" href="/assets/js/6.6823b270.js"><link rel="prefetch" href="/assets/js/60.442d77de.js"><link rel="prefetch" href="/assets/js/61.d084c1d1.js"><link rel="prefetch" href="/assets/js/62.8b9c584f.js"><link rel="prefetch" href="/assets/js/63.25d8161b.js"><link rel="prefetch" href="/assets/js/64.5145ad8f.js"><link rel="prefetch" href="/assets/js/65.7c43cfa0.js"><link rel="prefetch" href="/assets/js/66.a550c5f5.js"><link rel="prefetch" href="/assets/js/67.4d6c1888.js"><link rel="prefetch" href="/assets/js/68.b31849c6.js"><link rel="prefetch" href="/assets/js/69.2fcc88e3.js"><link rel="prefetch" href="/assets/js/7.4cbc4fa9.js"><link rel="prefetch" href="/assets/js/70.ba642077.js"><link rel="prefetch" href="/assets/js/71.d2ca334f.js"><link rel="prefetch" href="/assets/js/72.fed57b5b.js"><link rel="prefetch" href="/assets/js/73.7d6618cd.js"><link rel="prefetch" href="/assets/js/74.7dfe011f.js"><link rel="prefetch" href="/assets/js/75.7f397ef6.js"><link rel="prefetch" href="/assets/js/76.835ee9bf.js"><link rel="prefetch" href="/assets/js/77.05bb4e98.js"><link rel="prefetch" href="/assets/js/78.0cc01c12.js"><link rel="prefetch" href="/assets/js/79.ebfc00ce.js"><link rel="prefetch" href="/assets/js/8.c086df61.js"><link rel="prefetch" href="/assets/js/80.139b7969.js"><link rel="prefetch" href="/assets/js/9.bfada5d8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a46ba43a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Directus Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://directus.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://directus.cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cloud
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://directus.app" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Demo
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/directus/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://directus.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://directus.cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cloud
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://directus.app" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Demo
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/directus/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>🐰 Getting Started</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/getting-started/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/getting-started/installation.html" class="sidebar-link">Installation</a></li><li><a href="/getting-started/concepts.html" class="sidebar-link">Concepts</a></li><li><a href="/getting-started/contributing.html" class="sidebar-link">Contributing</a></li><li><a href="/getting-started/supporting-directus.html" class="sidebar-link">Supporting Directus</a></li><li><a href="/getting-started/troubleshooting.html" class="sidebar-link">Troubleshooting</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>📖 Guides</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>🚀 API Reference</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>💎 GraphQL</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>⚡️ SDKs</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>🦄 Extensions</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>🚧 Advanced</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/advanced/app/standalone.html" class="sidebar-link">Standalone Application</a></li><li><a href="/advanced/api/standalone.html" class="sidebar-link">Standalone API</a></li><li><a href="/advanced/other-install-methods.html" class="sidebar-link">Other Install Methods</a></li><li><a href="/advanced/source.html" class="sidebar-link">Local Dev Environment</a></li><li><a href="/advanced/server-setup.html" class="sidebar-link">Server Setup</a></li><li><a href="/advanced/app/configuration.html" class="sidebar-link">Application Configuration</a></li><li><a href="/advanced/app/helpers.html" class="sidebar-link">Application Helpers</a></li><li><a href="/advanced/api/configuration.html" class="sidebar-link">API Configuration</a></li><li><a href="/advanced/api/codebase.html" class="sidebar-link">API Codebase</a></li><li><a href="/advanced/api/data.html" class="active sidebar-link">Direct Data Access</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/advanced/api/data.html#fetching-data-within-hooks-and-endpoints" class="sidebar-link">Fetching Data within Hooks and Endpoints</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content default"><h1 id="data-access"><a href="#data-access" aria-hidden="true" class="header-anchor">#</a> Data Access</h1> <p>Directus uses Zend DB to access data from the database. It has its own class <code>Directus\Database\TableGateway\RelationalTableGateway</code> extending <code>Zend\Db\TableGateway\TableGateway</code> to add some Directus logic.</p> <p>You can use anything you want to access the data from the database, you can use PDO or even <code>Zend\Db\TableGateway\TableGateway</code>. The advantage of using the <code>Directus\Database\TableGateway\RelationalTableGateway</code> you will have the same api core data logic, such as fetching relational data and filters.</p> <h2 id="fetching-data-within-hooks-and-endpoints"><a href="#fetching-data-within-hooks-and-endpoints" aria-hidden="true" class="header-anchor">#</a> Fetching Data within Hooks and Endpoints</h2> <h3 id="using-directus-tablegateway-factory"><a href="#using-directus-tablegateway-factory" aria-hidden="true" class="header-anchor">#</a> Using Directus TableGateway Factory</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Using the factory</span>
<span class="token variable">$container</span> <span class="token operator">=</span> \<span class="token package">Directus<span class="token punctuation">\</span>Application<span class="token punctuation">\</span>Application</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$dbConnection</span> <span class="token operator">=</span> <span class="token variable">$container</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'database'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$acl</span> <span class="token operator">=</span> <span class="token variable">$container</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'acl'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$tableGateway</span> <span class="token operator">=</span> Directus\<span class="token package">Database<span class="token punctuation">\</span>TableGatewayFactory</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'COLLECTION_NAME'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token comment">// An Zend\Db\Adapter\Adapter instance</span>
    <span class="token single-quoted-string string">'connection'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$dbConnection</span><span class="token punctuation">,</span>
    <span class="token comment">// options are:</span>
    <span class="token comment">//  false = no acl validation</span>
    <span class="token comment">//  null = uses $container-&gt;get('acl')</span>
    <span class="token comment">//  an Directus\Permissions\Acl instance</span>
    <span class="token single-quoted-string string">'acl'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$acl</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>Directus\Database\TableGatewayFactory::create</code> creates a <code>Directus\Database\TableGateway\RelationalTableGateway</code> unless there is a <code>CollectionNameTableGateway</code> class in <code>Directus\Database\TableGatway</code> namespace.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$params</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$items</span> <span class="token operator">=</span> <span class="token variable">$tableGateway</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getItems</span><span class="token punctuation">(</span><span class="token variable">$params</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Returns an array of items</span>
<span class="token comment">// Example:</span>
<span class="token comment">// [</span>
<span class="token comment">//    'data' =&gt; [</span>
<span class="token comment">//        'id' =&gt; 1,</span>
<span class="token comment">//        'title' =&gt; 'Project title'</span>
<span class="token comment">//    ]</span>
<span class="token comment">// ];</span>
</code></pre></div><p>For <code>params</code> it can be used any <a href="https://github.com/directus/docs/blob/master/api/reference.md#query-parameters" target="_blank" rel="noopener noreferrer">Query Parameters<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> supported by the API.</p> <h3 id="zend-db-tablegateway"><a href="#zend-db-tablegateway" aria-hidden="true" class="header-anchor">#</a> Zend DB TableGateway</h3> <p>If you want to create your own custom queries using the Zend DB TableGateway gives you more flexibility, you can either use the TableGateway created by Directus TableGateway factory above, or create a instance of <code>Zend\Db\TableGateway\TableGateway</code>.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$container</span> <span class="token operator">=</span> \<span class="token package">Directus<span class="token punctuation">\</span>Application<span class="token punctuation">\</span>Application</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$dbConnection</span> <span class="token operator">=</span> <span class="token variable">$container</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'database'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$tableGateway</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token punctuation">\</span>Zend<span class="token punctuation">\</span>Db<span class="token punctuation">\</span>TableGateway<span class="token punctuation">\</span>TableGateway</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'directus_users'</span><span class="token punctuation">,</span> <span class="token variable">$dbConnection</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$select</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token punctuation">\</span>Zend<span class="token punctuation">\</span>Db<span class="token punctuation">\</span>Sql<span class="token punctuation">\</span>Select</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'directus_users'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$select</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$tableGateway</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">selectWith</span><span class="token punctuation">(</span><span class="token variable">$select</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token variable">$result</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">valid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$item</span> <span class="token operator">=</span> <span class="token variable">$result</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$result</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>You can read the <a href="https://framework.zend.com/manual/2.2/en/modules/zend.db.sql.html" target="_blank" rel="noopener noreferrer">Zend DB 2 Documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to know more about how to use Zend DB to select data.</p> <p>All the Zend DB TableGateway methods are available to use such as <a href="https://framework.zend.com/manual/2.2/en/modules/zend.db.sql.html#join" target="_blank" rel="noopener noreferrer">creating joins<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$container</span> <span class="token operator">=</span> \<span class="token package">Directus<span class="token punctuation">\</span>Application<span class="token punctuation">\</span>Application</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$dbConnection</span> <span class="token operator">=</span> <span class="token variable">$container</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'database'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$tableGateway</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token punctuation">\</span>Zend<span class="token punctuation">\</span>Db<span class="token punctuation">\</span>TableGateway<span class="token punctuation">\</span>TableGateway</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'directus_users'</span><span class="token punctuation">,</span> <span class="token variable">$dbConnection</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$select</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token punctuation">\</span>Zend<span class="token punctuation">\</span>Db<span class="token punctuation">\</span>Sql<span class="token punctuation">\</span>Select</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'directus_users'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$select</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$select</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">join</span><span class="token punctuation">(</span>
    <span class="token single-quoted-string string">'directus_files'</span><span class="token punctuation">,</span> <span class="token comment">// table name</span>
    <span class="token single-quoted-string string">'directus_files.id = directus_users.id'</span><span class="token punctuation">,</span> <span class="token comment">// expression to join on (will be quoted by platform object before insertion),</span>
    <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'filename'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// (optional) list of columns, same requirements as columns() above</span>
    <span class="token variable">$select</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">JOIN_LEFT</span> <span class="token comment">// (optional), one of inner, outer, left, right also represented by constants in the API</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$tableGateway</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">selectWith</span><span class="token punctuation">(</span><span class="token variable">$select</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token variable">$result</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">valid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$item</span> <span class="token operator">=</span> <span class="token variable">$result</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$result</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="items-service"><a href="#items-service" aria-hidden="true" class="header-anchor">#</a> Items Service</h3> <p>This is the same class that the API uses behind the HTTP Layer.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$container</span> <span class="token operator">=</span> \<span class="token package">Directus<span class="token punctuation">\</span>Application<span class="token punctuation">\</span>Application</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$itemsService</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token punctuation">\</span>Directus<span class="token punctuation">\</span>Services<span class="token punctuation">\</span>ItemsService</span><span class="token punctuation">(</span><span class="token variable">$container</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$params</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$items</span> <span class="token operator">=</span> <span class="token variable">$itemsService</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'directus_users'</span><span class="token punctuation">,</span> <span class="token variable">$params</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$item</span> <span class="token operator">=</span> <span class="token variable">$itemsService</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'directus_users'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$params</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="access-control"><a href="#access-control" aria-hidden="true" class="header-anchor">#</a> Access Control</h3> <p>Directus ACL helps you verify user privilege to access a collection.</p> <p>Some of the ACL Methods are:</p> <div class="language- extra-class"><pre class="language-text"><code>Acl::canCreate($collection, $status = null);
Acl::canRead($collection, $status = null);
Acl::canUpdate($collection, $status = null);
Acl::canDelete($collection, $status = null);
</code></pre></div><p>You can see all the methods in the <a href="https://github.com/directus/api/blob/master/src/core/Directus/Permissions/Acl.php" target="_blank" rel="noopener noreferrer">Directus\Permissions\Acl<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> class.</p> <p>Example:</p> <div class="language- extra-class"><pre class="language-text"><code>$container = \Directus\Application\Application::getInstance()-&gt;getContainer();
$acl = $container-&gt;get('acl');

if ($acl-&gt;canRead('directus_users')) {
    // read directus_users items
}
</code></pre></div></div> <!----> <!----> </div></div><div class="global-ui"></div></div>
    <script src="/assets/js/3.33850cd8.js" defer></script><script src="/assets/js/2.a8993c67.js" defer></script><script src="/assets/js/16.f07a13d9.js" defer></script><script src="/assets/js/app.6b13a8ca.js" defer></script>
  </body>
</html>
