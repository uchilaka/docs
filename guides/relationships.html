<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Relationships | Directus Docs</title>
    <meta name="description" content="The All-New Directus 7. Future-Proof Headless CMS for Managing Custom Database Content.">
    <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
  <link rel="apple-touch-icon" type="image/x-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <meta name="application-name" content="Directus Docs">
  <meta name="theme-color" content="#263238">
  <meta name="apple-mobile-web-app-title" content="Directus Docs">
  <meta name="msapplication-TileColor" content="#263238">
  <meta name="msapplication-config" content="/browserconfig.xml">
    
    <link rel="preload" href="/assets/css/0.styles.a46ba43a.css" as="style"><link rel="preload" href="/assets/js/app.6b13a8ca.js" as="script"><link rel="preload" href="/assets/js/3.33850cd8.js" as="script"><link rel="preload" href="/assets/js/2.a8993c67.js" as="script"><link rel="preload" href="/assets/js/4.274a7dd4.js" as="script"><link rel="prefetch" href="/assets/js/10.4b3ce920.js"><link rel="prefetch" href="/assets/js/11.839a4d5c.js"><link rel="prefetch" href="/assets/js/12.a785f938.js"><link rel="prefetch" href="/assets/js/13.e2ca323b.js"><link rel="prefetch" href="/assets/js/14.c7ffda09.js"><link rel="prefetch" href="/assets/js/15.45091891.js"><link rel="prefetch" href="/assets/js/16.f07a13d9.js"><link rel="prefetch" href="/assets/js/17.e0f03bae.js"><link rel="prefetch" href="/assets/js/18.ac911c74.js"><link rel="prefetch" href="/assets/js/19.57156ddf.js"><link rel="prefetch" href="/assets/js/20.0ea3873e.js"><link rel="prefetch" href="/assets/js/21.046a6fca.js"><link rel="prefetch" href="/assets/js/22.cbe58b64.js"><link rel="prefetch" href="/assets/js/23.856428e4.js"><link rel="prefetch" href="/assets/js/24.45e2919b.js"><link rel="prefetch" href="/assets/js/25.132c94af.js"><link rel="prefetch" href="/assets/js/26.5f91c4e2.js"><link rel="prefetch" href="/assets/js/27.7164f93b.js"><link rel="prefetch" href="/assets/js/28.4076a503.js"><link rel="prefetch" href="/assets/js/29.25cf7704.js"><link rel="prefetch" href="/assets/js/30.7324ae62.js"><link rel="prefetch" href="/assets/js/31.bbff5fc3.js"><link rel="prefetch" href="/assets/js/32.172f8672.js"><link rel="prefetch" href="/assets/js/33.8585645c.js"><link rel="prefetch" href="/assets/js/34.b3a2562b.js"><link rel="prefetch" href="/assets/js/35.5fb23827.js"><link rel="prefetch" href="/assets/js/36.2d6c0a55.js"><link rel="prefetch" href="/assets/js/37.b2ff76c5.js"><link rel="prefetch" href="/assets/js/38.c509a1aa.js"><link rel="prefetch" href="/assets/js/39.dc1c0e24.js"><link rel="prefetch" href="/assets/js/40.2774dcb2.js"><link rel="prefetch" href="/assets/js/41.68e064e4.js"><link rel="prefetch" href="/assets/js/42.2d25d691.js"><link rel="prefetch" href="/assets/js/43.a29e19b7.js"><link rel="prefetch" href="/assets/js/44.bb09339e.js"><link rel="prefetch" href="/assets/js/45.f0fc7f85.js"><link rel="prefetch" href="/assets/js/46.b3f5b727.js"><link rel="prefetch" href="/assets/js/47.51246657.js"><link rel="prefetch" href="/assets/js/48.c2b920de.js"><link rel="prefetch" href="/assets/js/49.60486bb5.js"><link rel="prefetch" href="/assets/js/5.95208c4a.js"><link rel="prefetch" href="/assets/js/50.a43536ef.js"><link rel="prefetch" href="/assets/js/51.931a0446.js"><link rel="prefetch" href="/assets/js/52.e358937f.js"><link rel="prefetch" href="/assets/js/53.e6f1ecb3.js"><link rel="prefetch" href="/assets/js/54.a8385a23.js"><link rel="prefetch" href="/assets/js/55.a9955101.js"><link rel="prefetch" href="/assets/js/56.6583c8b7.js"><link rel="prefetch" href="/assets/js/57.b2e8a719.js"><link rel="prefetch" href="/assets/js/58.bc886f9d.js"><link rel="prefetch" href="/assets/js/59.a4bc26f6.js"><link rel="prefetch" href="/assets/js/6.6823b270.js"><link rel="prefetch" href="/assets/js/60.442d77de.js"><link rel="prefetch" href="/assets/js/61.d084c1d1.js"><link rel="prefetch" href="/assets/js/62.8b9c584f.js"><link rel="prefetch" href="/assets/js/63.25d8161b.js"><link rel="prefetch" href="/assets/js/64.5145ad8f.js"><link rel="prefetch" href="/assets/js/65.7c43cfa0.js"><link rel="prefetch" href="/assets/js/66.a550c5f5.js"><link rel="prefetch" href="/assets/js/67.4d6c1888.js"><link rel="prefetch" href="/assets/js/68.b31849c6.js"><link rel="prefetch" href="/assets/js/69.2fcc88e3.js"><link rel="prefetch" href="/assets/js/7.4cbc4fa9.js"><link rel="prefetch" href="/assets/js/70.ba642077.js"><link rel="prefetch" href="/assets/js/71.d2ca334f.js"><link rel="prefetch" href="/assets/js/72.fed57b5b.js"><link rel="prefetch" href="/assets/js/73.7d6618cd.js"><link rel="prefetch" href="/assets/js/74.7dfe011f.js"><link rel="prefetch" href="/assets/js/75.7f397ef6.js"><link rel="prefetch" href="/assets/js/76.835ee9bf.js"><link rel="prefetch" href="/assets/js/77.05bb4e98.js"><link rel="prefetch" href="/assets/js/78.0cc01c12.js"><link rel="prefetch" href="/assets/js/79.ebfc00ce.js"><link rel="prefetch" href="/assets/js/8.c086df61.js"><link rel="prefetch" href="/assets/js/80.139b7969.js"><link rel="prefetch" href="/assets/js/9.bfada5d8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a46ba43a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Directus Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://directus.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://directus.cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cloud
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://directus.app" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Demo
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/directus/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://directus.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://directus.cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cloud
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://directus.app" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Demo
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/directus/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>🐰 Getting Started</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/getting-started/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/getting-started/installation.html" class="sidebar-link">Installation</a></li><li><a href="/getting-started/concepts.html" class="sidebar-link">Concepts</a></li><li><a href="/getting-started/contributing.html" class="sidebar-link">Contributing</a></li><li><a href="/getting-started/supporting-directus.html" class="sidebar-link">Supporting Directus</a></li><li><a href="/getting-started/troubleshooting.html" class="sidebar-link">Troubleshooting</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>📖 Guides</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/guides/user-guide.html" class="sidebar-link">App User Guide</a></li><li><a href="/guides/accountability.html" class="sidebar-link">Accountability</a></li><li><a href="/guides/auth.html" class="sidebar-link">Authentication</a></li><li><a href="/guides/cli.html" class="sidebar-link">Command-Line Interface</a></li><li><a href="/guides/collections.html" class="sidebar-link">Collections</a></li><li><a href="/guides/database.html" class="sidebar-link">Database</a></li><li><a href="/guides/fields.html" class="sidebar-link">Fields</a></li><li><a href="/guides/field-types.html" class="sidebar-link">Field Types</a></li><li><a href="/guides/interfaces.html" class="sidebar-link">Interfaces</a></li><li><a href="/guides/i18n.html" class="sidebar-link">Internationalization</a></li><li><a href="/guides/permissions.html" class="sidebar-link">Permissions</a></li><li><a href="/guides/projects.html" class="sidebar-link">Projects</a></li><li><a href="/guides/relationships.html" class="active sidebar-link">Relationships</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/relationships.html#many-to-one" class="sidebar-link">Many-to-One</a></li><li class="sidebar-sub-header"><a href="/guides/relationships.html#one-to-many" class="sidebar-link">One-to-Many</a></li><li class="sidebar-sub-header"><a href="/guides/relationships.html#direction-matters" class="sidebar-link">Direction Matters</a></li><li class="sidebar-sub-header"><a href="/guides/relationships.html#many-to-many" class="sidebar-link">Many-to-Many</a></li><li class="sidebar-sub-header"><a href="/guides/relationships.html#many-to-any" class="sidebar-link">Many-to-Any</a></li><li class="sidebar-sub-header"><a href="/guides/relationships.html#translations" class="sidebar-link">Translations</a></li></ul></li><li><a href="/guides/roles.html" class="sidebar-link">Roles</a></li><li><a href="/guides/settings.html" class="sidebar-link">Settings</a></li><li><a href="/guides/sso.html" class="sidebar-link">SSO</a></li><li><a href="/guides/status.html" class="sidebar-link">Status</a></li><li><a href="/guides/style-guide.html" class="sidebar-link">Style Guide</a></li><li><a href="/guides/thumbnailer.html" class="sidebar-link">Thumbnailer</a></li><li><a href="/guides/upgrading.html" class="sidebar-link">Upgrading</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>🚀 API Reference</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>💎 GraphQL</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>⚡️ SDKs</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>🦄 Extensions</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>🚧 Advanced</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content default"><h1 id="relationships"><a href="#relationships" aria-hidden="true" class="header-anchor">#</a> Relationships</h1> <blockquote><p>If certain collections within your project are related then you can connect them with Relationships. There are multiple types of relationships but technically Directus only needs to store one: the <strong>Many-to-One</strong>.</p></blockquote> <h2 id="many-to-one"><a href="#many-to-one" aria-hidden="true" class="header-anchor">#</a> Many-to-One</h2> <p>A many-to-one (M2O) relationship exists when an item of <strong>Collection A</strong> is linked to one single item of <strong>Collection B</strong>, but an item of <strong>Collection B</strong> may be linked to many items of <strong>Collection A</strong>. For example, a movie has one director, but directors have many movies.</p> <h3 id="setup"><a href="#setup" aria-hidden="true" class="header-anchor">#</a> Setup</h3> <br> <video width="100%" autoplay="autoplay" muted="muted" controls="controls" loop="loop"><source src="/assets/media/m2o.e67d21d6.mp4" type="video/mp4"></video> <p>This setup is specific to the <code>movies → directors</code> (M2O) field. The following steps assume you already have two collections: <code>movies</code> and <code>directors</code>. Each collection has the default <code>id</code> primary key and a <code>name</code> field.</p> <div><ol><li>Go to <strong>Settings &gt; Collections &amp; Fields &gt; Movies</strong></li> <li>Click <strong>New Field</strong></li> <li>Interface: Choose <strong>Many-to-One</strong></li> <li>Schema: <strong>Name</strong> your field (we're using <code>director</code>)</li> <li>Relation: Select <strong>Directors</strong> as the Related Collection</li> <li>Options: Enter a <strong>Dropdown Template</strong> (we're using <code>{{name}}</code>)
<ul><li>This can be any <a href="https://www.npmjs.com/package/micromustache" target="_blank" rel="noopener noreferrer">MicroMustache<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> string containing field names available within <code>directors</code></li></ul></li></ol></div> <div class="tip custom-block"><p class="custom-block-title">Matching MySQL Datatype</p> <p>In this example the <code>directors</code> collection uses the default <code>id</code> primary key, which has a Database DataType of <code>INT</code>. If you're using a different primary key type, such as <code>STRING</code>, make sure that your relational field's DataType/Length matches that of the primary key it will store. This can be adjusted under &quot;Advanced Options&quot; in the Field Modal.</p></div> <h4 id="screenshots"><a href="#screenshots" aria-hidden="true" class="header-anchor">#</a> Screenshots</h4> <p>Both dropdowns under &quot;This Collection&quot; are disabled since those refer to the field we're configuring now. The Related Field is also disabled since it must be the collection's Primary Key. All you need to do is choose which collection you want to relate to... in this case: <code>directors</code>.</p> <img src="/assets/img/relation.62fab19a.png"> <img src="/assets/img/field.426dd591.png" width="100"> <img src="/assets/img/interface.186f8182.png" width="100"> <img src="/assets/img/name.fd2bda2a.png" width="100"> <img src="/assets/img/relation.62fab19a.png" width="100"> <img src="/assets/img/options.6b7b61ac.png" width="100"> <img src="/assets/img/done.fe8fbf50.png" width="100"> <h2 id="one-to-many"><a href="#one-to-many" aria-hidden="true" class="header-anchor">#</a> One-to-Many</h2> <p>A one-to-many (O2M) relationship exists when an item of <strong>Collection A</strong> may be linked to many items of <strong>Collection B</strong>, but an item of <strong>Collection B</strong> is linked to only one single item of <strong>Collection A</strong>. For example, directors have many movies, but a movie only has one director. As you can see, this is the <em>same relationship</em> as the M2O above... but looking at it from the opposite direction.</p> <h3 id="setup-2"><a href="#setup-2" aria-hidden="true" class="header-anchor">#</a> Setup</h3> <p>This setup is specific to the <code>directors → movies</code> (O2M) field. The following steps assume you already have two collections: <code>movies</code> and <code>directors</code>. Each collection has the default <code>id</code> primary key and a <code>name</code> field. Additionally, we're assuming you have already created the M2O relationship above, which creates the <code>movies.director</code> field.</p> <div><ol><li>Go to <strong>Settings &gt; Collections &amp; Fields &gt; Directors</strong></li> <li>Click <strong>New Field</strong></li> <li>Interface: Choose <strong>One-to-Many</strong></li> <li>Schema: <strong>Name</strong> your field (we're using <code>movies</code>)</li> <li>Relation: Select <strong>Movies</strong> as the Related Collection and <strong>Director</strong> as the Related Field
<ul><li>The <code>movie.director</code> field was created during M2O setup above</li></ul></li></ol></div> <div class="tip custom-block"><p class="custom-block-title">Alias Fields</p> <p>Technically, this process does not create a new field, it remotely manages the relational data using the <code>movies.director</code> field. So if you were to look in the database you would not see an actual <code>directors.movies</code> column. That is why we call this an &quot;alias&quot;, because it simply <em>represents</em> a field.</p></div> <h4 id="screenshots-2"><a href="#screenshots-2" aria-hidden="true" class="header-anchor">#</a> Screenshots</h4> <p>Both dropdowns under &quot;This Collection&quot; are disabled since those refer to the field we're configuring now. First, choose the Related Collection, in this case <code>movies</code>. Once that is selected the Field dropdown will update to show the allowed options and you can choose the field that will store the foreign key in the related collection. In this example, <code>movies.director</code> will store <code>director.id</code> so we choose <code>director</code>.</p> <img src="/assets/img/relation.73e1c403.png"> <img src="/assets/img/field.d570fc0f.png" width="100"> <img src="/assets/img/interface.1bc40098.png" width="100"> <img src="/assets/img/name.f39491d4.png" width="100"> <img src="/assets/img/relation.73e1c403.png" width="100"> <img src="/assets/img/relation.73e1c403.png" width="100"> <h2 id="direction-matters"><a href="#direction-matters" aria-hidden="true" class="header-anchor">#</a> Direction Matters</h2> <p>Now we understand that a M2O and O2M are the <em>exact</em> same relationship... just viewed from opposite directions. The <code>movies</code> form shows a M2O dropdown to choose the director, and the <code>directors</code> form has a O2M listing to select their movies. But if you were to peek behind the scenes you would only see one entry in <code>directus_relations</code> defining this duplex relationship.</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>An easy way to remember which side is which: the &quot;many&quot; is an actual column that stores the foreign key, while the &quot;one&quot; side is a simulated column using the <code>ALIAS</code> datatype.</p></div> <p><img src="/assets/img/o2m-m2o.ca1983dd.png" alt="O2M + M2O"></p> <h2 id="many-to-many"><a href="#many-to-many" aria-hidden="true" class="header-anchor">#</a> Many-to-Many</h2> <p>A many-to-many (M2M) is a slightly more advanced relationship that allows you to link <em>any</em> items within <strong>Collection A</strong> and <strong>Collection B</strong>. For example, movies can have many genres, and genres can have many movies.</p> <p>Technically this is not a new relationship type, it is a O2M and M2O <em>working together</em> across a &quot;junction&quot; collection. Each item in the junction (eg: <code>movie_genres</code>) is a single link between one item in <code>movies</code> and one item in <code>genres</code>.</p> <h3 id="setup-3"><a href="#setup-3" aria-hidden="true" class="header-anchor">#</a> Setup</h3> <p>This setup is specific to the <code>movies → genres</code> (M2M) field. The following steps assume you already have two collections: <code>movies</code> and <code>genres</code>. Each collection has the default <code>id</code> primary key and a <code>name</code> field.</p> <div><ol><li>Go to <strong>Settings &gt; Collections &amp; Fields</strong></li> <li>Click <strong>New Collection</strong></li> <li><strong>Name</strong> your junction collection (we're using <code>movie_genres</code>)</li> <li>Set the junction collection to be <em>Hidden</em> (Optional)</li> <li>Click <strong>New Field</strong> — Add <code>movie_genres.movie</code> (basic numeric type)</li> <li>Click <strong>New Field</strong> — Add <code>movie_genres.genre</code> (basic numeric type)</li> <li>Go to <strong>Settings &gt; Collections &amp; Fields &gt; Movies</strong></li> <li>Click <strong>New Field</strong></li> <li>Interface: Choose <strong>Many-to-Many</strong></li> <li>Schema: <strong>Name</strong> your field (we're using <code>genres</code>)</li> <li>Relation: Select <strong>Genres</strong> as the Related Collection
<ul><li>Select <strong>Movie Genres</strong> as the Junction Collection</li> <li>Map <code>movies.id</code> to <strong>Movie</strong> under the junction</li> <li>Map <code>genres.id</code> to <strong>Genre</strong> under the junction</li></ul></li> <li>Options: <strong>Visible Columns</strong> sets the columns the interface shows (we're using <code>name</code>)
<ul><li><strong>Display Template</strong> sets the columns the interface shows (we're using <code>{{movie.name}}</code>)</li></ul></li></ol></div> <p><img src="/assets/img/m2m.1504ca63.png" alt="M2M"></p> <h4 id="screenshots-3"><a href="#screenshots-3" aria-hidden="true" class="header-anchor">#</a> Screenshots</h4> <p>Both dropdowns under &quot;This Collection&quot; are disabled since those refer to the field we're configuring now. The Related Field is also disabled since it must be the collection's Primary Key. First, choose the collection you want to relate to. Now select a junction collection and connect its keys by following the arrows.</p> <img src="/assets/img/relation.57a894c0.png"> <img src="/assets/img/create_junction.56756852.png" width="100"> <img src="/assets/img/junction.7a069b3b.png" width="100"> <img src="/assets/img/interface.fde5ee6a.png" width="100"> <img src="/assets/img/relation.57a894c0.png" width="100"> <img src="/assets/img/options.1e2c4d72.png" width="100"> <img src="/assets/img/done.4c63ee62.png" width="100"> <div class="tip custom-block"><p class="custom-block-title">Relation Arrows</p> <p>During relationship setup the App shows arrows between each field to help visualize the data model. <em>Each arrow points from the primary key field to the foreign key field.</em></p></div> <h2 id="many-to-any"><a href="#many-to-any" aria-hidden="true" class="header-anchor">#</a> Many-to-Any</h2> <p>The many-to-any (M2X) allows you to connect items within <strong>Collection A</strong> to many items from <strong>any collection</strong>. It is essentially the same as a M2M, but requires connected collections to use a Universally Unique Identifier (UUID) for the primary key. The Directus relational architecture supports this type of relationship, but there is no dedicated M2X interface yet.</p> <p>This type of relationship goes by many different names, and is often referred to by its specific purpose. Some names include: matrix field, replicator, M2MM, M2X, M2N, etc.</p> <p><img src="/assets/img/m2mm.27b7b9e5.png" alt="M2M"></p> <h2 id="translations"><a href="#translations" aria-hidden="true" class="header-anchor">#</a> Translations</h2> <p>The translation interface is a standard O2M relation, but it expects a specific data model to ensure things work properly. Below are the basic collections and fields this interface uses.</p> <h3 id="languages-collection"><a href="#languages-collection" aria-hidden="true" class="header-anchor">#</a> Languages Collection</h3> <p>This is the collection that contains all of the languages your project uses. In this example we'll name it <code>languages</code> and make it hidden since this content will be accessed through the parent collection. It requires at least these two fields:</p> <ul><li><code>code</code> — This is the primary key. We recommend setting this to a string so it can store the country or locale code. eg: <code>en</code> or <code>en-US</code></li> <li><code>name</code> — This is the human-readable name shown in the App</li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>While it is most common to suport one global set of languages per project, you <em>could</em> create multiple language collections to support different locales throughout your project.</p></div> <h3 id="translation-collections"><a href="#translation-collections" aria-hidden="true" class="header-anchor">#</a> Translation Collections</h3> <p>Every parent collection (eg: <code>articles</code>) contains all language-agnostic fields, such as: <em>Publish Date</em>, <em>Author</em>, and a <em>Featured Toggle</em>. But we also need to create a related collection (eg: <code>article_translations</code>) with any fields that will be translated, such as the <em>Title</em> and <em>Body</em>. Let's go over the required fields in these translation collections.</p> <h4 id="parent-foreign-key"><a href="#parent-foreign-key" aria-hidden="true" class="header-anchor">#</a> Parent Foreign Key</h4> <p>This is the field that stores the parent item's primary key. So in our example we would add an <code>article</code> field to store the article's ID.</p> <p>Suggested field configuration:</p> <ul><li>Interface: Numeric</li> <li>Schema
<ul><li>Hidden On Detail: <code>true</code> (this is a utility field so typically you will want to enable this option so it doesn't appear)</li> <li>Field type: <code>integer</code></li> <li>Signed: <code>false</code></li></ul></li></ul> <h4 id="language-foreign-key"><a href="#language-foreign-key" aria-hidden="true" class="header-anchor">#</a> Language Foreign Key</h4> <p>This is the field that stores the language code. We recommend calling this field <code>language</code>.</p> <p>Suggested field configuration:</p> <ul><li>Interface: Text input</li> <li>Schema
<ul><li>Hidden On Detail: <code>true</code> (this is a utility field so typically you will want to enable this option so it doesn't appear)</li> <li>Field type: <code>lang</code></li></ul></li></ul> <h4 id="translated-fields"><a href="#translated-fields" aria-hidden="true" class="header-anchor">#</a> Translated Fields</h4> <p>You can add any number of other fields, each will be translated within the interface.</p> <h3 id="setup-4"><a href="#setup-4" aria-hidden="true" class="header-anchor">#</a> Setup</h3> <p>These setup instructions are specific to the <em>Articles</em> example above. It assumes you already have setup these collections: <code>articles</code>, <code>article_translations</code>, <code>languages</code>.</p> <div><ol><li>Go to <strong>Settings &gt; Collections &amp; Fields &gt; Articles</strong></li> <li>Click <strong>New Field</strong></li> <li>Interface: Choose <strong>Translation</strong></li> <li>Schema: <strong>Name</strong> your field (we're using <code>translations</code>)</li> <li>Relation: Select <strong>Article Translations</strong> as the Related Collection and <strong>Article</strong> as the Related Field
<ul><li>The <code>article_translations.article</code> field was created during <em>Translation Collections</em> setup above</li></ul></li> <li>Options: <strong>Languages Collection</strong> is the collection created during <em>Translations</em> setup above (we're using <code>languages</code>)
<ul><li><strong>Language Primary Key Field</strong> the Language Foreign Key field created during <em>Translation Collections</em> setup above (we're using <code>language</code>)</li></ul></li></ol></div></div> <!----> <!----> </div></div><div class="global-ui"></div></div>
    <script src="/assets/js/3.33850cd8.js" defer></script><script src="/assets/js/2.a8993c67.js" defer></script><script src="/assets/js/4.274a7dd4.js" defer></script><script src="/assets/js/app.6b13a8ca.js" defer></script>
  </body>
</html>
